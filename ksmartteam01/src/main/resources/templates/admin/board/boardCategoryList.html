<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/adminDefault}">
<!-- 사용자 정의 타이틀 설정 -->
<th:block layout:fragment="customTitle">
	<title>게시판 카테고리</title>
</th:block>

<th:block layout:fragment="customContents">
	<div class="right_col" role="main">
		<div class="">
			<div class="page-title">
				<div class="title_left">
					<h3>
						게시판 카테고리<small> - 게시판 카테고리를 조회, 등록, 수정, 삭제하는 페이지</small>
					</h3>
				</div>

				<div class="title_right">
					<div
						class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
						<div class="input-group">
							<input type="text" class="form-control"
								placeholder="Search for..."> <span
								class="input-group-btn">
								<button class="btn btn-secondary" type="button">Go!</button>
							</span>
						</div>
					</div>
				</div>
			</div>
			<div class="clearfix"></div>
			<div class="row">
				<div class="col-md-12 col-sm-12 ">
					<div class="x_panel">
						<div class="x_title">
							<h2>게시판 카테고리 목록</h2>
							<ul class="nav navbar-right panel_toolbox">
								<li><a class="collapse-link"><i
										class="fa fa-chevron-up"></i></a></li>
								<li class="dropdown"><a href="#" class="dropdown-toggle"
									data-toggle="dropdown" role="button" aria-expanded="false"><i
										class="fa fa-wrench"></i></a>
									<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
										<a class="dropdown-item" href="#">Settings 1</a> <a
											class="dropdown-item" href="#">Settings 2</a>
									</div></li>
								<li><a class="close-link"><i class="fa fa-close"></i></a></li>
							</ul>
							<div class="clearfix"></div>
						</div>
						<div class="x_content">
							<div class="row">
								<div class="col-sm-12">
									<div class="card-box table-responsive">

										<table id="datatable-checkbox"
											class="table table-striped table-bordered bulk_action"
											style="width: 100%">
											<thead>
												<tr>
													<th><input type="checkbox" id="check-all"></th>
													<th>번호</th>
													<th>등록자</th>
													<th>카테고리명</th>
													<th>등록일</th>
													<th>수정</th>
													<th>삭제</th>
												</tr>
											</thead>
											<tbody>
												<tr th:if="${not #lists.isEmpty(boardCategoryList)}"
													th:each="c : ${boardCategoryList}">
													<td><input type="checkbox" id="check-all"></td>
													<td th:text="${c.boardCategoryCode}"></td>
													<td th:text="${c.id}"></td>
													<td th:text="${c.boardCategoryName}"></td>
													<td th:text="${c.registrationDatetime}"></td>
													<td><a
														th:href="@{/admin/board/modifyBoardCategory(boardCategoryCode=${c.boardCategoryCode})}">
															<button type="submit">수정</button>
													</a></td>
													<td>
														<button class="accomInquiryBtn deleteCategoryModalBtn" 
															type="submit" th:value="${c.boardCategoryCode}">삭제</button>
													</td>
												</tr>
											</tbody>
										</table>
									</div>
								</div>
							</div>
							<div>
								<a href="/admin/board/addBoardCategory"><button
										type="button" style="align-items: center">등록</button></a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- 삭제 모달 -->
	<div id="modalRemove" class="removeModal">
		<div class="removeModal-window">
			<div class="modal-content">
				<div class="modal-title">
					<h3>카테고리 삭제</h3>
				</div>
				<div class="row">
					<div class="x_content">
						<br />
						<form id="demo-form2" data-parsley-validate
							class="form-horizontal form-label-left"
							th:action="@{/admin/board/boardCategoryList}"
							method="get">
							<div class="item form-group">
								<div class="col-md-6 col-sm-6 ">
									<h6 class="modal_style">해당 카테고리를 삭제하시겠습니까?</h6>
								</div>
							</div>
							<div class="item form-group" align="center"
								style="margin-top: 30px;">
								<div class="col-md-6 col-sm-6 offset-md-3">
									<span class="row"> <input type="hidden"
										name="accommodationCategoryCode" id="deleteCategoryCode">
										<button class="btn btn-primary" type="submit">삭제</button>
										<button class="btn btn-primary" type="reset">취소</button>
									</span>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="https://code.jquery.com/jquery-latest.min.js"></script>

	<script>

	var $deleteCategoryCode = $('#deleteCategoryCode');
	
  	$('.deleteCategoryModalBtn').click(function() {
        $('#modalRemove').css({
            display: 'flex',
        });
        $deleteCategoryCode.val($(this).val());
    })
     $('.btn').click(function() {
        $('#modalRemove').css({
             display: 'none',
        });
    })
</script>
</th:block>
</html>