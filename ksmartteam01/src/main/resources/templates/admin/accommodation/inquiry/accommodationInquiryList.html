<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
     xmlns:layout="http://ultraq.net.nz/thymeleaf/layout"
     layout:decorate="~{layout/adminDefault}">
   <!-- 사용자 정의 타이틀 설정 -->
   <th:block layout:fragment="customTitle">
      <title>숙소문의목록</title>
   </th:block>
   
   <th:block layout:fragment="customContents">
	<div class="right_col" role="main">
		<div>
			<div class="page-title">
				<div class="title_left">
                	<h3>숙소문의목록</h3>
              	</div>
            <div class="title_right">
            	<div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
                	<div class="input-group">
                   		<input type="text" class="form-control" placeholder="Search for...">
                    	<span class="input-group-btn">
                     		<button class="btn btn-secondary" type="button">검색</button>
                    	</span>
                  	</div>
                </div>
			</div>
		</div>
    	<div class="row">
        	<div class="col-md-12 col-sm-12 ">
            	<div class="x_panel">
                	<div>
                    	<h2>숙소 문의사항 목록</h2>
                    	<ul class="nav navbar-right panel_toolbox">
                      		<li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      		</li>
                      		<li class="dropdown">
                        		<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        		<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            		<a class="dropdown-item" href="#">전체목록</a>
                            		<a class="dropdown-item" href="#">미답변목록</a>
                          		</div>
                      		</li>
                    	</ul>
                  	</div>
	        		<div class="x_content">
				       	<div class="row">
				       		<div class="col-sm-12">
				           		<div class="card-box table-responsive">
				                	<table id="datatable-responsive" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
				                    	<thead>
				                        	<tr>
				                          		<th>답변여부</th>
				                          		<th>숙소명</th>
				                         		<th>문의자ID</th>
				                          		<th>문의제목</th>
					                          	<th>작성날짜</th>
					                          	<th>답변자ID</th>
					                          	<th>답변날짜</th>
					                          	<th></th>
				                        	</tr>
				                      	</thead>
				                      	<tbody  th:each="l : ${accommodationInquiryList}">
				                        	<tr class="firstTr">
				                          		<td>답변완료</td>
				                          		<td th:text="${l.companyName}"></td>
				                          		<td th:text="${l.inquiryId}">id007</td>
					                          	<td><a href="#acccomInquiryAdmin" data-toggle="collapse" th:text="${l.titleName}"></a></td>
					                          	<td th:text="${l.datetime}"></td>
					                          	<td th:text="${l.answerId}"></td>
					                          	<td th:text="${l.answerDatetime}"></td>	
					                          	<td><button class="accomDeleteBtn" type="submit">삭제</button></td>
				                        	</tr>
				                        	<tr class="collapse secondTr" id="acccomInquiryAdmin">
				                        		<td colspan="7">
				                        			<div th:text="${l.contents}"></div>
				                        			<br>
				                        			<br>
				                        			<div th:text="${l.answer}" class="inquiryAnswer"></div>
				                        			<br>
				                        			<br>
				                        		</td>
				                        		<td>
				                        			<button class="accomModifyBtn" value="수정" type="submit">수정</button>
				                        			<button class="accomRemoveBtn" type="submit">삭제</button>
				                        		</td>
				                        	</tr>
				                      	</tbody>
				                	</table>			
				                </div>
							</div>
						</div>
	            	</div>
                </div>
     		</div>
      	</div>
    	</div>
	</div>

	<script src="https://code.jquery.com/jquery-latest.min.js"></script>
	
	<script>
		
		/* var firstTr = document.querySelector('.firstTr');
		
		var secondTr = firstTr.nextSibling;
		console.log(secondTr);
		 */
	
		/* let inquiryArea = document.getElementsByClassName('inquiryAnswer')[0]; */
		
		let inquiryArea = document.querySelectorAll('.inquiryAnswer');
		let accomModifyBtn = document.querySelectorAll('.accomModifyBtn');
		let accomRemoveBtn = document.querySelectorAll('.accomRemoveBtn');
		$(accomModifyBtn).click(function(){
				/* const result1 = accomModifyBtn.indexOf(this); */
				/* inquiryArea[i].innerHTML = "<textarea class='accomTextarea'>A.</textarea>";
				accomModifyBtn[i].innerHTML = "<button class='accomModifyBtn' type='submit'>등록</button>"
				accomRemoveBtn[i].innerHTML = "<button class='accomRemoveBtn' type='submit'>취소</button>"  */
				
				for(var i=0; i<accomModifyBtn.length; i++){
					console.log(accomModifyBtn[i]);
				}
				
				console.log(accomModifyBtn[1].value)
				
				console.log(this);

		})
		 
		
		
	</script>
   </th:block>
</html> 