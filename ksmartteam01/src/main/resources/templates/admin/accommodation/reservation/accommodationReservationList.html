<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
     xmlns:layout="http://ultraq.net.nz/thymeleaf/layout"
     layout:decorate="~{layout/adminDefault}">
   <!-- 사용자 정의 타이틀 설정 -->
   <th:block layout:fragment="customTitle">
      <title>숙소예약내역목록</title>
   </th:block>
   
   <th:block layout:fragment="customContents">
	<div class="right_col" role="main">
		<div>
			<div class="page-title">
				<div class="title_left">
                	<h3>숙소예약내역목록</h3>
              	</div>
            <div class="title_right">
            	<div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
                	<div class="input-group">
                   		<input type="text" class="form-control" placeholder="Search for...">
                    	<span class="input-group-btn">
                     		<button class="btn btn-secondary" type="button">검색</button>
                    	</span>
                  	</div>
                </div>
			</div>
		</div>
    	<div class="row">
        	<div class="col-md-12 col-sm-12 ">
            	<div class="x_panel">
                	<div>
                    	<h2>숙소 예약사항 내역</h2>
                    	<ul class="nav navbar-right panel_toolbox">
                      		<li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      		</li>
                      		<li class="dropdown">
                        		<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        		<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            		<a class="dropdown-item" href="#">전체목록</a>
                            		<a class="dropdown-item" href="#">미답변목록</a>
                          		</div>
                      		</li>
                    	</ul>
                  	</div>
	        		<div class="x_content">
				       	<div class="row">
				       		<div class="col-sm-12">
				           		<div class="card-box table-responsive">
				           			<div class="col-sm-10">
				                	<table id="datatable-responsive" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
				                		<thead>
				                			<tr>
				                				<th>숙소예약번호</th>
				                				<th>예약자 ID</th>
				                				<th>숙소예약자</th>
				                				<th>숙소명</th>
				                				<th>숙소옵션</th>
				                				<th>결제코드</th>
				                				<th>예약날짜</th>
				                				<th>예약상태</th>			                				
				                				<th>삭제</th>
				                				<th>입실날짜</th>
				                				<th>퇴실날짜</th>
				                				<th>인원</th>	
				                			</tr>
				                		</thead>
				                		<tbody>
				                			<tr th:each="l : ${accommodationReservationList}">
				                				<td th:text="${l.accommodationReservationCode}"></td>
				                				<td>
				                					<a href="#" th:text="${l.id}"></a>
				                				</td>
				                				<td th:text="${l.name}"></td>
				                				<td>
				                					<a href="#" th:text="${l.name}"></a>
				                				</td>
				                				<td>
				                					<a href="#" th:text="${l.accommodationOption}"></a>
				                				</td>
				                				<td>
				                					<a href="#" th:text="${l.accommodationPaymentCode}" class="open_modal"></a>
				                				</td>
				                				<td th:text="${l.reservationDatetime}"></td>
				                				<td>
													예약확정
													<a href="#" class="reservation_modal">(예약상태 변경)</a>
												</td>				                				
				                				<td>
				                					<a href="#" class="remove_modal"><button type="submit" style="border: none; background-color: skyblue; border-radius: 10%">X</button></a>
				                				</td>
				                				<td th:text="${l.checkinDatetime}"></td>
				                				<td th:text="${l.checkoutDatetime}"></td>
				                				<td>2</td>
				                			</tr>
				                		</tbody>
				                	</table>
				                </div>
							</div>
						</div>
	            	</div>
                </div>
     		</div>
      	</div>
    	</div>
	</div>

<!-- 삭제 모달 -->
<div id="modalRemove" class="removeModal">
    <div class="removeModal-window">
        <div class="modal-content">
	        <div class="modal-title">
	            <h3>예약내역삭제</h3>
	        </div>
            <div class="row">
				<div class="x_content">
					<br/>
					<form id="demo-form2" data-parsley-validate class="form-horizontal form-label-left">
						<div class="item form-group">
							<div class="col-md-6 col-sm-6 ">
								<h6 class="modal_style">예약내역을 삭제하시겠습니까?</h6>
							</div>
						</div>
						<div class="item form-group" align="center" style="margin-top: 30px;">
							<div class="col-md-6 col-sm-6 offset-md-3">
								<span class="row">
									<button class="btn btn-primary" type="reset">삭제</button>								
									<button class="btn btn-primary" type="reset">취소</button>
								</span>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- 예약상태 모달 -->
<div id="modalReservation" class="reservationModal">
    <div class="reservationModal-window">
        <div class="modal-content">
	        <div class="modal-title">
	            <h3>예약상태</h3>
	        </div>
            <div class="row">
				<div class="x_content">
					<br/>
					<form id="demo-form2" data-parsley-validate class="form-horizontal form-label-left">
						<div class="item form-group">
							<div class="col-md-6 col-sm-6 ">
								<select class="modal_style">
									<option>예약확정</option>
									<option>예약승인전</option>
								</select>
							</div>
						</div>
						<div class="item form-group" align="center" style="margin-top: 30px;">
							<div class="col-md-6 col-sm-6 offset-md-3">
								<span class="row">
									<button class="btn btn-primary" type="reset">변경</button>								
									<button class="btn btn-primary" type="reset">취소</button>
								</span>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- 결제 모달 -->
<div id="modal" class="modal-background">
    <div class="modal-window">
        <div class="modal-content">
	        <div class="modal-title">
	            <h3>결제정보</h3>
	        </div>
            <div class="row">
				<div class="x_content">
					<br/>
					<form id="demo-form2" data-parsley-validate class="form-horizontal form-label-left" th:each="l : ${accommodationReservationList}">
						<div class="item form-group">
							<label class="col-form-label col-md-4 col-sm-3 label-align" for="first-name">결제금액<span class="required">*</span></label>
							<div class="col-md-8 col-sm-6 ">
								<input type="text" id="first-name" required="required" class="form-control" th:value="${l.paymentAmount}">
							</div>
						</div>
						<div class="item form-group">
							<label class="col-form-label col-md-4 col-sm-3 label-align" for="last-name">사용적립금<span class="required">*</span></label>
							<div class="col-md-8 col-sm-6 ">
								<input type="text" id="last-name" name="last-name" required="required" class="form-control" th:value="${l.usingPoint}">
							</div>
						</div>
						<div class="item form-group">
							<label for="middle-name" class="col-form-label col-md-4 col-sm-3 label-align">총결제금액</label>
							<div class="col-md-8 col-sm-6 ">
								<input id="middle-name" class="form-control" type="text" name="middle-name" th:value="${l.totalPaymentPrice}">
							</div>
						</div>
						<div class="item form-group">
							<label for="middle-name" class="col-form-label col-md-4 col-sm-3 label-align">결제일자</label>
							<div class="col-md-8 col-sm-6 ">
								<input id="middle-name" class="form-control" type="text" name="middle-name" th:value="${l.paymentDate}">
							</div>
						</div>
						<div class="item form-group">
							<label for="middle-name" class="col-form-label col-md-4 col-sm-3 label-align">결제방식</label>
							<div class="col-md-8 col-sm-6 ">
								<input id="middle-name" class="form-control" type="text" name="middle-name" th:value="${l.paymentTerm}">
							</div>
						</div>
						<div class="item form-group" align="center" style="margin-top: 30px;">
							<div class="col-md-6 col-sm-6 offset-md-3">
								<span class="row">
									<button class="btn btn-primary" type="reset">결제취소</button>								
									<button class="btn btn-primary" type="reset">확인</button>
								</span>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

<script src="https://code.jquery.com/jquery-latest.min.js"></script>

<script>

    $('.open_modal').click(function() {
        $('#modal').css({
            display: 'flex',
        });
    })
    $('.btn').click(function() {
        $('#modal').css({
             display: 'none',
        });
    })
    
  	$('.reservation_modal').click(function() {
        $('#modalReservation').css({
            display: 'flex',
        });
    })
     $('.btn').click(function() {
        $('#modalReservation').css({
             display: 'none',
        });
    })
    
  	$('.remove_modal').click(function() {
        $('#modalRemove').css({
            display: 'flex',
        });
    })
     $('.btn').click(function() {
        $('#modalRemove').css({
             display: 'none',
        });
    })
</script>

   </th:block>
</html> 