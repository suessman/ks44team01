<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	<mapper namespace="anypet.ks44team01.mapper.GoodsMapper">
		<resultMap type="GoodsList" id="goodsResultMap">
			<id		column="goods_code" 			property="goodsCode"/>
			<result column="id" 					property="goodsId"/>
			<result column="goods_name" 			property="goodsName"/>
			<result column="category_code_sub" 		property="categoryCodeSub"/>
			<result column="goods_resgister_time" 	property="goodsResgisterTime"/>
			<result column="goods_image" 			property="goodsImage"/>
			<result column="goods_price" 			property="goodsPrice"/>
		</resultMap>
		
		<select id="getGoodsList" resultMap="goodsResultMap" fetchSize="100">
			/* 상품 목록 조회 */
			SELECT
				 g.goods_code
				,m.id
				,g.goods_name
				,ccs.category_code_sub
				,g.goods_resgister_time
				,g.goods_image
				,g.goods_price
			FROM
				goods	AS g
				INNER JOIN 
				member AS m
				ON 
				m.id = g.id
				INNER JOIN
				company_category_sub AS ccs
				ON
				g.category_code_sub = ccs.category_code_sub
				ORDER BY g.goods_price DESC;
		</select>
		
		<resultMap type="GoodsInquiry" id="GoodsInquiryMap">
	        <id 	column="goods_QnA_number" 			property="goodsQnaNumber"/>
	        <result column="goods_code"					property="goodsCode"/>
	        <result column="id" 						property="GoodsInquiryId"/>	
	        <result column="goods_QnA_datetime" 		property="goodsQnaDatetime"/>
	        <result column="goods_QnA_title" 			property="goodsQnaTitle"/>
	        <result column="goods_QnA_contents" 		property="goodsQnaContents"/>
	        <result column="goods_QnA_answer" 			property="goodsQnaAnswer"/>
	        <result column="goods_QnA_secret_password" 	property="goodsQnaSecretPassword"/>
			   <!-- <association property="goodsAnswerInfo" resultMap="ks44team04.mapper.GoodsMapper.goodsAnswerMap"/>
			    <association property="goodsInfo" resultMap="ks44team04.mapper.GoodsMapper.goodsResultMap"/>
			    <association property="goodsQnaCategoryInfo" resultMap="ks44team04.mapper.CategoryMapper.GoodsQnaCategoryMap"/>
		        <association property="userInfo" resultMap="ks44team04.mapper.UserMapper.UserResultMap"/>  -->
    	</resultMap>
		<select id="getGoodsInquiryModify" resultMap="GoodsInquiryMap" fetchSize="100">
			/* 상품 문의 목록 */
			SELECT 
				 goods_QnA_number
				,goods_code
				,id
				,goods_QnA_datetime
				,goods_QnA_title
				,goods_QnA_contents
				,goods_QnA_answer
				,goods_QnA_secret_password
			FROM 
				goods_QnA;
				
		</select>
		
	</mapper>